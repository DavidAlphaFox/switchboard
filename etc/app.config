%% -*- mode: erlang -*-
[
 {switchboard, [{cowboy_port, 8080},
                {oauth_providers,
                 [{<<"google">>,
                   [{client_id, {{oauth_google_client_id}} },
                    {client_secret, {{oauth_google_client_secret}} },
                    {callback_uri, <<"/auth/google/callback">>},
                    {scope, <<"https://mail.google.com"
                              " https://www.googleapis.com/auth/userinfo.email"
                              " https://www.googleapis.com/auth/userinfo.profile">>},
                    {authorize_uri, <<"https://accounts.google.com/o/oauth2/auth">>},
                    {token_uri, <<"https://accouts.google.com/o/oauth2/token">>},
                    {callback_hooks, [switchboard_social_oauth]}]}]}
               ]},

 {lager, [{handlers, [{lager_console_backend, info},
                      {lager_file_backend, [{file, "log/error.log"},
                                            {level, error}]},
                      {lager_file_backend, [{file, "log/console.log"},
                                            {level, info}]}
                     ]}]}
 ].
