<!DOCTYPE html>
<html>
  <head>
    <title>Switchboard Client</title>
    <meta charset="UTF-8">
  </head>
  <body>
    <h3>Try this out in your browser's js console:</h3>

    <h4>Worker</h4>
    <pre>
      var worker = new switchboard.Worker("ws://192.168.50.2:8080/workers");
      worker.connect(ConnSpec, function(resp) { console.log(resp); });
      worker.watchAll(function(resp) { console.log(resp); });
      worker.getMailboxes(ConnSpec.auth.username, function (resp) { console.log(resp); });
      worker.watchMailboxes(ConnSpec.auth.username, function (resp) { console.log(resp); });
    </pre>

    <h4>Client</h4>
    <pre>
      var client = new switchboard.Client("ws://192.168.50.2:8080/clients", ConnSpec);
      client.getMailboxes(function(resp) { console.log(resp); });
      client.watchMailboxes(["INBOX"], function(resp) { console.log("Watching"); });
    </pre>

    <p>
      In these examples, <code>ConnSpec</code> takes the form of
    </p>

    <pre>
      {host: "imap.gmail.com",
        port: 993,
        auth: {
          type: "plain",
          username: ...,
          password: ...}};
    </pre>

    <script type="text/javascript" src="/static/js/switchboardclient.js"></script>
  </body>
</html>
